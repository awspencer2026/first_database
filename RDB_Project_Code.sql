-- Task 2: Create Database by Andrew Spencer
DROP DATABASE IF EXISTS DAYCARE;
CREATE DATABASE DAYCARE;
USE DAYCARE;
SHOW DATABASES;

-- Task 3: Create Tables by Andrew Spencer
SHOW TABLES;

CREATE TABLE CLASS(
ID CHAR(2) PRIMARY KEY,
CLEVEL VARCHAR(7) NOT NULL, 
COLOR VARCHAR(5) NOT NULL, 
ROOM_NUMBER CHAR(3) NOT NULL, 
PHONE CHAR(12) NOT NULL UNIQUE, 
CAPACITY CHAR(2) NOT NULL, 
LOCATION VARCHAR(100) NOT NULL UNIQUE
);

CREATE TABLE TEACHER(
ID CHAR(2) PRIMARY KEY, 
FIRST_NAME VARCHAR(21) NOT NULL,
MIDDLE_NAME VARCHAR(21),
LAST_NAME VARCHAR(21) NOT NULL,
PHONE CHAR(12) NOT NULL, 
WORK_EMAIL VARCHAR(30) NOT NULL,
PERSONAL_EMAIL VARCHAR(30) NOT NULL,
COLLEGE VARCHAR(5) NOT NULL, 
DEGREE_AREA VARCHAR(25) NOT NULL,
CLASS_ID CHAR(2) NOT NULL,
FOREIGN KEY(CLASS_ID) REFERENCES CLASS(ID)
);

CREATE TABLE STUDENT(
ID CHAR(2) PRIMARY KEY,
FIRST_NAME VARCHAR(21) NOT NULL,
MIDDLE_NAME VARCHAR(21),
LAST_NAME VARCHAR(21) NOT NULL, 
NICKNAME VARCHAR(15),
DATE_OF_BIRTH DATE NOT NULL,
STREET VARCHAR(50) NOT NULL,
CITY VARCHAR(15) NOT NULL,
ZIPCODE VARCHAR(10) NOT NULL, 
STATE CHAR(2) NOT NULL,
CLASS_ID CHAR(2) NOT NULL,
FOREIGN KEY(CLASS_ID) REFERENCES CLASS(ID),
CARETAKER_ID CHAR(2)
); 

CREATE TABLE CARETAKER(
ID CHAR(2) PRIMARY KEY, 
FIRST_NAME VARCHAR(21) NOT NULL,
MIDDLE_NAME VARCHAR(21),
LAST_NAME VARCHAR(21) NOT NULL,
HOME_PHONE CHAR(12) NOT NULL,
MOBILE_PHONE CHAR(12) NOT NULL, 
WORK_PHONE CHAR(12) NOT NULL, 
EMAIL VARCHAR(30), 
RELATIONSHIP VARCHAR(45) NOT NULL,
STUDENT_ID CHAR(2)
);

CREATE TABLE REGISTRATION(
CARETAKER_ID CHAR(2)NOT NULL,
FOREIGN KEY(CARETAKER_ID) REFERENCES CARETAKER(ID),
STUDENT_ID CHAR(2) NOT NULL, 
FOREIGN KEY(STUDENT_ID) REFERENCES STUDENT(ID)
);

SHOW TABLES;
DESCRIBE CLASS;
DESCRIBE TEACHER;
DESCRIBE STUDENT;
DESCRIBE CARETAKER;
DESCRIBE REGISTRATION;

-- Task 4: Add Data by Andrew Spencer
SELECT * FROM CLASS;
SELECT * FROM TEACHER;
SELECT * FROM STUDENT;
SELECT * FROM CARETAKER;
SELECT * FROM REGISTRATION;

INSERT INTO CLASS VALUES
('01', 'Turtles', 'Green', '001', '000-111-0001', '25', 'First left turn down the main hallway.'), 
('02', 'Turtles', 'Blue', '002', '000-111-0002', '26', 'First right turn down the main hallway.'), 
('03', 'Foxes', 'Green', '003', '000-111-0003', '27', 'Second left turn down the main hallway.'), 
('04', 'Foxes', 'Red', '004', '000-111-0004', '28', 'Second right turn down the main hallway.'), 
('05', 'Monkeys', 'Red', '005', '000-111-0005', '29', 'Third left turn down the main hallway.'); 

INSERT INTO TEACHER VALUES
('01', 'Liam', 'NULL', 'Oliver', '111-222-0001', 'JD01@daycare.com', 'jd@gmail.com', 'GMUBS', 'Teaching', '01'),
('02', 'Noah', 'NULL', 'Roberts', '111-222-0002', 'NR02@daycare.com', 'NR@gmail.com', 'GMUMS', 'Teaching', '02'),
('03', 'Emma', 'NULL', 'Charlottes', '111-222-0003', 'EC03@daycare.com', 'EC@gmail.com', 'VCUBS', 'Teaching', '03'),
('04', 'Olivia', 'NULL', 'Williamson', '111-222-0004', 'OW04@daycare.com', 'OW@gmail.com', 'VCUMS', 'Teaching', '04'),
('05', 'Rowan', 'NULL', 'Luca', '111-222-0005', 'RL05@daycare.com', 'RL@gmail.com', 'VTBS', 'Teaching', '05');

INSERT INTO STUDENT VALUES
('01', 'Benjamin', NULL, 'Smith', 'Ben', '2020-01-01', '01 First Street', 'Fairfax', '22010', 'VA', '01', NULL), 
('02', 'Matthew', NULL, 'Williams', 'Matt', '2020-02-02', '02 Second Street', 'Fairfax', '22010', 'VA', '01', NULL), 
('03', 'Michael', NULL, 'Brown', 'Mike', '2019-03-03', '03 Third Street', 'Fairfax', '22010', 'VA', '03', NULL), 
('04', 'Jeremy', NULL, 'Jones', 'JJ', '2019-04-04', '04 Fourth Street', 'Fairfax', '22010', 'VA', '03', NULL),
('05', 'Andrew', NULL, 'Davis', 'Andy', '2018-02-02', '05 Fifth Street', 'Fairfax', '22010', 'VA', '05', NULL);

INSERT INTO CARETAKER VALUES
('01', 'Spencer', NULL, 'Smith', '333-333-0001', '444-444-0001', '555-555-0001', 'ssParent@gmail.com', 'Father', NULL), 
('02', 'Will', NULL, 'Williams', '333-333-0002', '444-444-0002', '555-555-0002', 'wwParent@gmail.com', 'Father', NULL), 
('03', 'Bob', NULL, 'Brown', '333-333-0003', '444-444-0003', '555-555-0003', 'bbParent@gmail.com', 'Father', NULL), 
('04', 'Jamie', NULL, 'Jones', '333-333-0004', '444-444-0004', '555-555-0004', 'jjParent@gmail.com', 'Mother', NULL), 
('05', 'Debbie', NULL, 'Davis', '333-333-0005', '444-444-0005', '555-555-0005', 'ddParent@gmail.com', 'Mother', NULL);


INSERT INTO REGISTRATION VALUES
('01', '01'),
('02', '02'),
('03', '03'),
('04', '04'),
('05', '05');

SELECT * FROM CLASS;
SELECT * FROM TEACHER;
SELECT * FROM STUDENT;
SELECT * FROM CARETAKER;
SELECT * FROM REGISTRATION;

-- Task 5: Query Data by Andrew Spencer
SELECT CONCAT(S.FIRST_NAME, ' ', S.LAST_NAME) AS 'Student', C.CLEVEL AS 'Level', C.COLOR, C.CAPACITY, CONCAT(T.FIRST_NAME, ' ', T.LAST_NAME) AS 'Teacher'
FROM ((STUDENT AS S
INNER JOIN CLASS AS C ON S.ID = C.ID)
INNER JOIN TEACHER AS T ON C.ID = T.ID)
ORDER BY S.LAST_NAME;

SELECT C.COLOR AS 'Color', C.CLEVEL AS 'Level', CONCAT(S.FIRST_NAME, ' ', S.LAST_NAME) AS 'Student Name', S.CITY AS 'City'
FROM STUDENT AS S INNER JOIN CLASS AS C ON S.ID = C.ID
ORDER BY S.LAST_NAME;

SELECT CONCAT(P.FIRST_NAME, ' ', P.LAST_NAME) AS 'Parent', P.MOBILE_PHONE AS 'Mobile Phone', CONCAT(S.FIRST_NAME, ' ', S.LAST_NAME) AS 'Student', C.CLEVEL AS 'Level', C.COLOR AS 'Color'
FROM ((((CARETAKER AS P
INNER JOIN REGISTRATION AS R ON P.ID = R.CARETAKER_ID)
INNER JOIN STUDENT AS S ON R.STUDENT_ID = S.ID)
INNER JOIN CLASS AS C ON S.CLASS_ID = C.ID)
INNER JOIN TEACHER AS T ON C.ID = T.CLASS_ID)
ORDER BY S.LAST_NAME;

SELECT CONCAT(P.FIRST_NAME, ' ', P.LAST_NAME) AS 'Parent', CONCAT(S.FIRST_NAME, ' ', S.LAST_NAME) AS 'Student', CONCAT(T.FIRST_NAME, ' ', T.LAST_NAME) AS 'Teacher'
FROM ((((CARETAKER AS P
INNER JOIN REGISTRATION AS R ON P.ID = R.CARETAKER_ID)
INNER JOIN STUDENT AS S ON R.STUDENT_ID = S.ID)
INNER JOIN CLASS AS C ON S.CLASS_ID = C.ID)
INNER JOIN TEACHER AS T ON C.ID = T.CLASS_ID)
ORDER BY P.LAST_NAME;




